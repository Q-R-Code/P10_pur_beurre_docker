version: '3'

services:
  web:
    build: .
    env_file: DJANGO_SETTINGS_MODULE="pur_beurre_project_app.settings.production"
    # exécuter la commande Django runserver
    # qui démarre un serveur de développement
    # https://docs.djangoproject.com/en/2.1/ref/django-admin/#runserver
    command: python manage.py runserver 0.0.0.0:8000
    # monter le dossier local actuel (dossier du projet) dans /app
    # dans le conteneur
    volumes:
      - .:/app
    ports:
      - 8004:8000
